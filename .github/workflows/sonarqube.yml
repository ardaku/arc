on:
  # Trigger analysis when pushing in master or pull requests, and when creating
  # a pull request. 
  push:
    branches:
      - stable
  pull_request:
      types: [opened, synchronize, reopened]

name: SonarQube Scan
jobs:
  sonarqube:
    # You may pin to the exact commit or the version.
    # uses: kitabisa/sonarqube-action@513476d3b8845ec1776adaf7e1314019e5151e00
    uses: kitabisa/sonarqube-action@v1.2.0
    with:
      # SonarQube server URL.
      host: ${{ secrets.SONAR_HOST }}
      # The project's unique key. Allowed characters are: letters, numbers, -, _, . and :, with at least one non-digit.
      projectKey: Quantii
      # Name of the project that will be displayed on the web interface.
      projectName: Quantii 
      # Login or authentication token of a SonarQube user.
      login: ${{ secrets.SONAR_TOKEN  }}
      # Encoding of the source code.
      encoding: UTF-8

    
